{"ast":null,"code":"import MultiStepForm from \"@/components/MultiStepForm.vue\";\nimport axios from 'axios';\nexport default {\n  name: 'ApplicationPage',\n  components: {\n    MultiStepForm\n    // ... (other components)\n  },\n\n  data() {\n    return {\n      selectedOption: null,\n      applications: [] // Initialize an empty array to store applications\n    };\n  },\n\n  computed: {\n    selectedOptionComponent() {\n      return this.selectedOption === 'new' ? 'MultiStepForm' : null;\n    }\n  },\n  methods: {\n    selectOption(option) {\n      this.selectedOption = option;\n    },\n    reloadApplicationData() {\n      this.fetchApplications();\n    },\n    deleteApplication(applicationId) {\n      const jsonData = {\n        id: applicationId\n      };\n      axios.post('http://127.0.0.1:5555/deleteVihirInfo', jsonData, {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(response => {\n        // Handle successful deletion\n        const deletedApplicationId = response.data.id;\n        console.log(`Application with ID ${deletedApplicationId} has been deleted.`);\n\n        // Remove the deleted application from the frontend\n        this.applications = this.applications.filter(application => application.id !== applicationId);\n        this.reloadApplicationData();\n      }).catch(error => {\n        // Handle error\n        console.error('Error deleting application:', error);\n      });\n    },\n    fetchApplications() {\n      axios.get('http://127.0.0.1:5555/GetVihirInfo').then(applications => this.applications = applications.data).catch(error => console.error('Error:', error));\n    },\n    editApplication(applicationId) {\n      this.selectedOption = 'new'; // Set the selectedOption to 'new'\n      this.selectedApplicationId = applicationId; // Store the selected application ID\n    },\n\n    goBackFromChild() {\n      this.selectedOption = null;\n      this.reloadApplicationData();\n    }\n  },\n  mounted() {\n    this.fetchApplications(); // Fetch applications when the component is mounted\n  }\n};","map":{"version":3,"names":["MultiStepForm","axios","name","components","data","selectedOption","applications","computed","selectedOptionComponent","methods","selectOption","option","reloadApplicationData","fetchApplications","deleteApplication","applicationId","jsonData","id","post","headers","then","response","deletedApplicationId","console","log","filter","application","catch","error","get","editApplication","selectedApplicationId","goBackFromChild","mounted"],"sources":["C:\\Users\\Harsh\\Downloads\\NEW\\form-system-user-main\\src\\components\\ApplicationPage.vue"],"sourcesContent":["<template>\r\n  <div class=\"application\">\r\n    <div v-if=\"selectedOption === null\" class=\"application-options\">\r\n      <div @click=\"selectOption('new')\" class=\"btn btn-info mb-4 text-white\">\r\n        <i class=\"fa-solid fa-plus me-2\"></i>Add New Application\r\n      </div>\r\n      <div id=\"applicationTable mt-3\">\r\n        <table class=\"table table-striped\">\r\n          <thead>\r\n            <tr>\r\n              <th>#</th>\r\n              <th>Date of Creation</th>\r\n              <th>First Name</th>\r\n              <th>Last Name</th>\r\n              <th>Form Number</th>\r\n              <th>Gram Panchayat Authority</th>\r\n              <th>Panchayat Samiti Authority</th>\r\n              <th>Zilla Parishad Authority</th>\r\n              <th>Action</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"(application, index) in applications\" :key=\"application.id\">\r\n              <td>{{ ++index }}</td>\r\n              <td>{{ application.dtDateOfCreation }}</td>\r\n              <td>{{ application.ncharFirstName }}</td>\r\n              <td>{{ application.ncharLastName }}</td>\r\n              <td>{{ application.ncharFormNumber }}</td>\r\n              <td>\r\n  <button class=\"btn btn-sm rounded btn-success me-2\" @click=\"authorizeApplication(application.id, 'gramPanchayat')\">\r\n    Authorize\r\n  </button>\r\n  <button class=\"btn btn-sm rounded btn-danger\" @click=\"rejectApplication(application.id, 'gramPanchayat')\">\r\n    Reject\r\n  </button>\r\n</td>\r\n<td>\r\n  <button class=\"btn btn-sm rounded btn-success me-2\" @click=\"authorizeApplication(application.id, 'panchayatSamiti')\">\r\n    Authorize\r\n  </button>\r\n  <button class=\"btn btn-sm rounded btn-danger\" @click=\"rejectApplication(application.id, 'panchayatSamiti')\">\r\n    Reject\r\n  </button>\r\n</td>\r\n<td>\r\n  <button class=\"btn btn-sm rounded btn-success me-2\" @click=\"authorizeApplication(application.id, 'zillaParishad')\">\r\n    Authorize\r\n  </button>\r\n  <button class=\"btn btn-sm rounded btn-danger\" @click=\"rejectApplication(application.id, 'zillaParishad')\">\r\n    Reject\r\n  </button>\r\n</td>\r\n              <td>\r\n                <button class=\"btn btn-sm rounded btn-info me-2\" @click=\"editApplication(application.id)\">\r\n                  <i class=\"fa-solid fa-pen-to-square text-white\"></i>\r\n                </button>\r\n                <button class=\"btn btn-sm rounded btn-danger\" @click=\"deleteApplication(application.id)\">\r\n                  <i class=\"fa-solid fa-trash-can\"></i>\r\n                </button>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n\r\n    <div v-else>\r\n      <component :is=\"selectedOptionComponent\" @go-back=\"goBackFromChild\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport MultiStepForm from \"@/components/MultiStepForm.vue\";\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  name: 'ApplicationPage',\r\n  components: {\r\n    MultiStepForm,\r\n    // ... (other components)\r\n  },\r\n  data() {\r\n    return {\r\n      selectedOption: null,\r\n      applications: [], // Initialize an empty array to store applications\r\n    };\r\n  },\r\n  computed: {\r\n    selectedOptionComponent() {\r\n      return this.selectedOption === 'new' ? 'MultiStepForm' : null;\r\n    }\r\n  },\r\n  methods: {\r\n    selectOption(option) {\r\n      this.selectedOption = option;\r\n    },\r\n    reloadApplicationData() {\r\n      this.fetchApplications();\r\n    },\r\n    deleteApplication(applicationId) {\r\n      const jsonData = { id: applicationId };\r\n\r\n      axios.post('http://127.0.0.1:5555/deleteVihirInfo', jsonData, { headers: { 'Content-Type': 'application/json' } })\r\n        .then(response => {\r\n          // Handle successful deletion\r\n          const deletedApplicationId = response.data.id;\r\n          console.log(`Application with ID ${deletedApplicationId} has been deleted.`);\r\n\r\n          // Remove the deleted application from the frontend\r\n          this.applications = this.applications.filter(application => application.id !== applicationId);\r\n          this.reloadApplicationData();\r\n        })\r\n        .catch(error => {\r\n          // Handle error\r\n          console.error('Error deleting application:', error);\r\n        });\r\n    },\r\n    fetchApplications() {\r\n      axios.get('http://127.0.0.1:5555/GetVihirInfo')\r\n        .then(applications => this.applications = applications.data)\r\n        .catch(error => console.error('Error:', error));\r\n    },\r\n    editApplication(applicationId) {\r\n      this.selectedOption = 'new'; // Set the selectedOption to 'new'\r\n      this.selectedApplicationId = applicationId; // Store the selected application ID\r\n    },\r\n    goBackFromChild() {\r\n      this.selectedOption = null;\r\n      this.reloadApplicationData();\r\n    }\r\n  },\r\n  mounted() {\r\n    this.fetchApplications(); // Fetch applications when the component is mounted\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.application {\r\n  padding: 40px;\r\n  background-color: #ffffff;\r\n  box-shadow: 0 0 2px var(--grey-color-light);\r\n}\r\n\r\n.application-options {\r\n  /* Add your custom styles for the application options container */\r\n}\r\n</style>\r\n"],"mappings":"AAyEA,OAAOA,aAAY,MAAO,gCAAgC;AAC1D,OAAOC,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAI,EAAE,iBAAiB;EACvBC,UAAU,EAAE;IACVH;IACA;EACF,CAAC;;EACDI,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,cAAc,EAAE,IAAI;MACpBC,YAAY,EAAE,EAAE,CAAE;IACpB,CAAC;EACH,CAAC;;EACDC,QAAQ,EAAE;IACRC,uBAAuBA,CAAA,EAAG;MACxB,OAAO,IAAI,CAACH,cAAa,KAAM,KAAI,GAAI,eAAc,GAAI,IAAI;IAC/D;EACF,CAAC;EACDI,OAAO,EAAE;IACPC,YAAYA,CAACC,MAAM,EAAE;MACnB,IAAI,CAACN,cAAa,GAAIM,MAAM;IAC9B,CAAC;IACDC,qBAAqBA,CAAA,EAAG;MACtB,IAAI,CAACC,iBAAiB,CAAC,CAAC;IAC1B,CAAC;IACDC,iBAAiBA,CAACC,aAAa,EAAE;MAC/B,MAAMC,QAAO,GAAI;QAAEC,EAAE,EAAEF;MAAc,CAAC;MAEtCd,KAAK,CAACiB,IAAI,CAAC,uCAAuC,EAAEF,QAAQ,EAAE;QAAEG,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB;MAAE,CAAC,EAC9GC,IAAI,CAACC,QAAO,IAAK;QAChB;QACA,MAAMC,oBAAmB,GAAID,QAAQ,CAACjB,IAAI,CAACa,EAAE;QAC7CM,OAAO,CAACC,GAAG,CAAE,uBAAsBF,oBAAoB,oBAAoB,CAAC;;QAE5E;QACA,IAAI,CAAChB,YAAW,GAAI,IAAI,CAACA,YAAY,CAACmB,MAAM,CAACC,WAAU,IAAKA,WAAW,CAACT,EAAC,KAAMF,aAAa,CAAC;QAC7F,IAAI,CAACH,qBAAqB,CAAC,CAAC;MAC9B,CAAC,EACAe,KAAK,CAACC,KAAI,IAAK;QACd;QACAL,OAAO,CAACK,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;MACrD,CAAC,CAAC;IACN,CAAC;IACDf,iBAAiBA,CAAA,EAAG;MAClBZ,KAAK,CAAC4B,GAAG,CAAC,oCAAoC,EAC3CT,IAAI,CAACd,YAAW,IAAK,IAAI,CAACA,YAAW,GAAIA,YAAY,CAACF,IAAI,EAC1DuB,KAAK,CAACC,KAAI,IAAKL,OAAO,CAACK,KAAK,CAAC,QAAQ,EAAEA,KAAK,CAAC,CAAC;IACnD,CAAC;IACDE,eAAeA,CAACf,aAAa,EAAE;MAC7B,IAAI,CAACV,cAAa,GAAI,KAAK,EAAE;MAC7B,IAAI,CAAC0B,qBAAoB,GAAIhB,aAAa,EAAE;IAC9C,CAAC;;IACDiB,eAAeA,CAAA,EAAG;MAChB,IAAI,CAAC3B,cAAa,GAAI,IAAI;MAC1B,IAAI,CAACO,qBAAqB,CAAC,CAAC;IAC9B;EACF,CAAC;EACDqB,OAAOA,CAAA,EAAG;IACR,IAAI,CAACpB,iBAAiB,CAAC,CAAC,EAAE;EAC5B;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}